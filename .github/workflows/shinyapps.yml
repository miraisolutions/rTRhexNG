name: CI

on: [push]

jobs:
  build:

    runs-on: ubuntu-latest
    container:
      image: rstudio/r-base:3.6-bionic

    steps:
    - uses: actions/checkout@v1
    - name: Run a one-line script
      run: echo Hello, world!
    - name: Install Package Dependencies
      run: |-
        R -e "install.packages('rsconnect')"
    - name: Run a multi-line script
      env: # Or as an environment variable
        SHINYAPPS_SECRET: ${{ secrets.SHINYAPPS_SECRET }}
      run: |
        Rscript -e "rsconnect::setAccountInfo(name='riccardoporreca', token='2139675380B582458FF0F4AFE10E5626', secret=Sys.getenv('SHINYAPPS_SECRET'))"
